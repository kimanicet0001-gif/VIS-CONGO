<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VISIT DRC | Admin</title>
    <link rel="stylesheet" href="../src/output.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .action-menu {
            display: none;
        }

        .action-container:hover .action-menu {
            display: block;
        }
    </style>
</head>

<body class="bg-slate-100 font-sans" onload="loadPartners()">

    <header class="backdrop-blur-[3px] bg-opacity-100 bg-[#06377be9] sticky top-0 z-50 shadow-md">
        <nav class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="logo flex w-[40%] gap-2">
                <div class="pt-2">
                    <img src="img/cafe.jpg" class=" rounded-4xl w-[9vh] object-cover " alt="">
                </div>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="27vh"
                    height="9vh">
                    <text kerning="auto" font-family="Myriad Pro" fill="rgb(0, 0, 0)" font-size="1rem" x="0px" y="50px">
                        <tspan font-size="2rem" font-family="Bleeding Cowboys" fill="#FFFFFF">VISIT</tspan>
                        <tspan font-size="2rem" font-family="Bleeding Cowboys" fill="#F9BB15">&#32;DRC</tspan>
                    </text>
                </svg>
            </div>
        </nav>
    </header>

    <main
        class="w-full min-h-screen p-4 md:p-8 bg-gradient-to-br from-[#06377b] to-[#04214a] flex items-center justify-center">
        <div
            class="w-full max-w-7xl h-[85vh] bg-white/95 backdrop-blur-sm rounded-[40px] shadow-2xl overflow-hidden border-t-4 border-yellow-500 flex flex-col md:flex-row">

            <aside class="w-[300px] h-full bg-[#06377b] p-8 flex flex-col justify-between items-start">
                <div class="w-full">
                    <div class="mb-12">
                        <h1 class="text-2xl text-white font-extrabold tracking-tight">
                            Tableau de bord
                            <span class="block w-8 h-1 bg-yellow-500 mt-2 rounded-full"></span>
                        </h1>
                    </div>

                    <nav class="flex flex-col gap-4 w-full">
                        <a href="#" onclick="toggleView('dashboard')"
                            class="group flex items-center gap-4 p-3 text-white/80 hover:text-[#06377b] hover:bg-white rounded-2xl transition-all duration-300 ease-in-out">
                            <div class="p-2 bg-white/10 group-hover:bg-[#06377b]/10 rounded-lg">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                    class="bi bi-person-hearts" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M11.5 1.246c.832-.855 2.913.642 0 2.566-2.913-1.924-.832-3.421 0-2.566M9 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m-9 8c0 1 1 1 1 1h10s1 0 1-1-1-4-6-4-6 3-6 4m13.5-8.09c1.387-1.425 4.855 1.07 0 4.277-4.854-3.207-1.387-5.702 0-4.276ZM15 2.165c.555-.57 1.942.428 0 1.711-1.942-1.283-.555-2.281 0-1.71Z" />
                                </svg>
                            </div>
                            <span class="font-medium text-sm lg:text-base">Service Guide</span>
                        </a>

                        <a href="#"
                            class="group flex items-center gap-4 p-3 text-white/80 hover:text-[#06377b] hover:bg-white rounded-2xl transition-all duration-300">
                            <div class="p-2 bg-white/10 group-hover:bg-[#06377b]/10 rounded-lg">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                    class="bi bi-house-add-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 1 1-1 0v-1h-1a.5.5 0 1 1 0-1h1v-1a.5.5 0 0 1 1 0" />
                                    <path
                                        d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z" />
                                    <path
                                        d="m8 3.293 4.712 4.712A4.5 4.5 0 0 0 8.758 15H3.5A1.5 1.5 0 0 1 2 13.5V9.293z" />
                                </svg>
                            </div>
                            <span class="font-medium text-sm lg:text-base">Réservations</span>
                        </a>

                        <a href="#"
                            class="group flex items-center gap-4 p-3 text-white/80 hover:text-[#06377b] hover:bg-white rounded-2xl transition-all duration-300">
                            <div class="p-2 bg-white/10 group-hover:bg-[#06377b]/10 rounded-lg">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                    class="bi bi-car-front-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z" />
                                </svg>
                            </div>
                            <span class="font-medium text-sm lg:text-base">Location</span>
                        </a>
                    </nav>
                </div>

                <button
                    class="w-full flex items-center justify-center gap-2 py-3 px-6 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white border border-red-500/20 rounded-2xl font-bold transition-all duration-300">
                    <span>Déconnexion</span>
                </button>
            </aside>

            <div id="dynamic-content" class="flex-1 h-full overflow-y-auto bg-gray-50/50 relative">

                <section id="view-dashboard" class="p-6 md:p-10 fade-in">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-4">
                        <div>
                            <h2 class="text-3xl font-black text-[#06377b] tracking-tight">Vue d'ensemble</h2>
                            <p class="text-slate-500 font-medium">Monitoring des partenaires actifs</p>
                        </div>
                        <button onclick="toggleView('registration')"
                            class="bg-[#06377b] hover:bg-[#04214a] text-white px-6 py-3 rounded-2xl shadow-xl transition-all flex items-center gap-3 font-bold group">
                            <span
                                class="bg-yellow-500 rounded-lg p-1 group-hover:scale-110 transition-transform text-[#06377b] font-bold">+</span>
                            Enregistrer un partenaire
                        </button>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                        <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                            <p class="text-slate-400 text-xs font-bold uppercase mb-1">Hôtels</p>
                            <h3 id="count-hotel" class="text-2xl font-black text-slate-800">0</h3>
                        </div>
                        <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                            <p class="text-slate-400 text-xs font-bold uppercase mb-1">Véhicules</p>
                            <h3 id="count-vehicule" class="text-2xl font-black text-slate-800">0</h3>
                        </div>
                        <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                            <p class="text-slate-400 text-xs font-bold uppercase mb-1">Guides</p>
                            <h3 id="count-guide" class="text-2xl font-black text-slate-800">0</h3>
                        </div>
                    </div>

                    <div class="bg-white rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden">
                        <table class="w-full text-left">
                            <thead class="bg-slate-50 text-slate-400 text-[10px] uppercase font-bold">
                                <tr>
                                    <th class="px-6 py-4">Partenaire</th>
                                    <th class="px-6 py-4">Service</th>
                                    <th class="px-6 py-4">Contact</th>
                                    <th class="px-6 py-4">Localisation</th>
                                    <th class="px-6 py-4 text-right">Action</th>
                                </tr>
                            </thead>
                            <tbody id="partners-list" class="divide-y divide-slate-50"></tbody>
                        </table>
                    </div>
                </section>

                <section id="view-registration" class="p-6 md:p-10 hidden fade-in">
                    <div class="flex items-center gap-4 mb-10">
                        <button onclick="cancelEdit()"
                            class="p-3 hover:bg-slate-200 rounded-full transition-all text-[#06377b]">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z" />
                            </svg>
                        </button>
                        <h2 id="form-title" class="text-3xl font-black text-[#06377b]">Nouveau Partenaire</h2>
                    </div>

                    <form id="registrationForm" onsubmit="handleRegistration(event)"
                        class="space-y-8 bg-white p-8 rounded-[2.5rem] shadow-sm max-w-4xl mx-auto">
                        <input type="hidden" id="edit-id">
                        <div class="space-y-4">
                            <h3 class="text-xs font-bold text-[#06377b] uppercase tracking-widest mb-4">1. Détails de
                                l'entreprise</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <label class="cursor-pointer">
                                    <input type="radio" name="srv" value="Hôtel" class="peer hidden" checked>
                                    <div
                                        class="p-4 bg-slate-50 rounded-2xl border-2 border-transparent peer-checked:border-blue-500 text-center font-bold">
                                        Hôtel</div>
                                </label>
                                <label class="cursor-pointer">
                                    <input type="radio" name="srv" value="Véhicule" class="peer hidden">
                                    <div
                                        class="p-4 bg-slate-50 rounded-2xl border-2 border-transparent peer-checked:border-orange-500 text-center font-bold">
                                        Véhicule</div>
                                </label>
                                <label class="cursor-pointer">
                                    <input type="radio" name="srv" value="Guide" class="peer hidden">
                                    <div
                                        class="p-4 bg-slate-50 rounded-2xl border-2 border-transparent peer-checked:border-green-500 text-center font-bold">
                                        Guide</div>
                                </label>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 pt-4">
                                <input type="text" id="compName" placeholder="Nom de l'établissement" required
                                    class="w-full px-5 py-4 bg-slate-50 rounded-2xl outline-none border">
                                <input type="text" id="compLoc" placeholder="Localisation" required
                                    class="w-full px-5 py-4 bg-slate-50 rounded-2xl outline-none border">
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <input type="email" id="compEmail" placeholder="Adresse Email de contact" required
                                    class="w-full px-5 py-4 bg-slate-50 rounded-2xl outline-none border">
                                <input type="tel" id="compPhone" placeholder="Numéro de Téléphone" required
                                    class="w-full px-5 py-4 bg-slate-50 rounded-2xl outline-none border">
                            </div>
                        </div>

                        <div class="space-y-4 pt-6 border-t">
                            <h3 class="text-xs font-bold text-[#06377b] uppercase tracking-widest">2. Accès Admin
                                Partenaire</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <input type="text" id="adminUser" placeholder="ID Utilisateur (Login)" required
                                    class="w-full px-5 py-4 bg-slate-50 rounded-2xl outline-none border">
                                <input type="password" id="adminPass" placeholder="Mot de passe provisoire" required
                                    class="w-full px-5 py-4 bg-slate-50 rounded-2xl outline-none border">
                            </div>
                        </div>

                        <div class="pt-4 flex gap-4">
                            <button type="button" onclick="cancelEdit()"
                                class="flex-1 py-4 font-bold text-slate-400 hover:bg-slate-50 rounded-2xl transition-all">Annuler</button>
                            <button type="submit" id="submit-btn"
                                class="flex-[2] bg-[#06377b] text-white py-4 rounded-2xl font-black shadow-lg hover:scale-[1.01] transition-all">Confirmer
                                l'ajout</button>
                        </div>
                    </form>
                </section>
            </div>
        </div>
    </main>

    <script src="./script.js">
    </script>
</body>

</html>